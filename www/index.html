<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />                                <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />                                <h1>Project home page </h1>  <a href="https://hacron.dev.java.net/alm-process/#OWNER">For Project Owners</a>  <h3>Project Description:</h3>   <p>   	<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8" /> 	 	<meta name="GENERATOR" content="StarOffice 8  (Solaris x86)" /> 	 	<!-- 		@page { size: 8.5in 11in; margin: 0.79in } 		P { margin-bottom: 0.08in } 	--> 	  </p><p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">Cron is a service familiar to all Unix users, that executes commands at specified dates and times, as a specified user. Services running on HA clusters frequently use cron for running periodic jobs. When a failover happens, the crontab entries stay back on the node which was previously active. This then requires human intervention by the system administrator who would have to manually add the crontab entries to the new node which is running the service. The whole point of high availability is lost over here, because when running an HA Cluster, one would want failovers to be completely automated.</font></font></p>  <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">Hence, I propose to develop HA-Cron, an agent for cron which will allow it to run seamlessly on Open HA Cluster. HA-Cron will ensure that the cron jobs of the services included in the RG are run only on the currently active node. To develop HA-Cron, we will be using the GDS template. The start, stop and probe functions will be implemented as follows:</font></font></p> <p style="margin-bottom: 0in"><br /> </p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">Start:</font></font></p><p>&nbsp;</p><p><font size="2"><font face="Arial, sans-serif">1) The first RG to update run HA-Cron creates a backup of the root crontab file. It then adds the cron jobs to be kept highly available into the root crontab. It also sets up the sentinel script which will clear the root crontab of stale values during improper shut downs.<br /></font></font></p><p>2) All subsequent RGs having HA-Cron will simply add the required cron jobs to the root crontab.<br /></p><p style="margin-bottom: 0in"><br /> </p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">The content to be added to the crontab file will be saved separately and will be one of the inputs to the HA-Cron agent at the time of resource registration.<br /></font></font></p> <p style="margin-bottom: 0in"><br /> </p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">Stop:</font></font></p>  <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">1) Remove the required cron jobs from the root crontab file.<br /></font></font></p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">2) The last RG to stop will delete the sentinel script as well as the probe's test job cron entry from the root crontab.<br /></font></font></p> <p style="margin-bottom: 0in"><br /> </p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">Probing:</font></font></p>  <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">1) A test cron job is included in the new crontab file, which creates a temporary file with the current timestamp, and updates the timestamp on every subsequent run.</font></font></p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">2) The probe function checks this temporary file periodically, and with the help of the timestamp, tells whether the cron service is working well.</font></font></p> <p style="margin-bottom: 0in"><br /> </p> <p style="margin-bottom: 0in"><font face="Arial, sans-serif"><font size="2">The project will be considered successful if the agent is able to run all the required cron jobs on a cluster automatically, after a failover.</font></font></p><p style="margin-bottom: 0in">&nbsp;</p> <p>&nbsp;</p> <h3>Participation:</h3> <p>This is an open source project which may provide an opportunity for developers  to participate in a variety of ways.  If you are interested in participating please  send an inquiry to the owner at owner@projectname.dev.java.net (replace &quot;projectname&quot;  with the name of this project)</p> <p>If you are a member, you can see the current list of members <a href="servlets/ProjectMemberList">here</a></p> <p>If you are not a member, you can request membership to this project <a href="servlets/ProjectMembershipRequest">here</a>.</p> <h3>Mailing Lists:</h3> <p>If you wish to subscribe to one of this project's mailing lists, click <a href="servlets/ProjectMailingListList">here</a></p> <h3>Downloads:</h3> <ul>     <li>         To access the repository, click <a href="source/browse/">here</a>     </li>     <li>         Unversioned downloads, documentation, etc... is usually kept in the Docs &amp; Files section. You can access the          Docs &amp; Files by clicking <a href="servlets/ProjectDocumentList">here</a>     </li> </ul> <h3>Issues:</h3> <p>To submit a project issue, or query existing issues, click <a href="servlets/ProjectIssues">here</a></p> <a name="OWNER"></a> <h3>For The Project Owner:</h3> <p>Congratulations on your new java.net project!</p> <p>You can edit your project page using the WYSIWYG editor or a Subversion client    like NetBeans if your project uses Subversion. If your project uses CVS, then    you can edit the project using a CVS client like NetBeans. For help editing    your project, click <a href="https://knowledgesharing.dev.java.net/servlets/ProjectProcess?tab=1">here</a></p> <p>For more help on editing and customizing your project page, click <a href="https://knowledgesharing.dev.java.net/alm-process/1-Project%20Set-Up/1-Configuration/Project%20Content%20Editor/">here</a></p> <p>You can find lots of helpful information on java.net to get your project    started. Some of the things you will find in there include:</p> <ul>   <li>Hints on how to <a href="https://java-net.dev.java.net/ProjectPages.html#pages">set-up      your project's</a> home page</li>   <li>Ideas on how to <a href="https://java-net.dev.java.net/ProjectPages.html#publicity">publicize      your project</a> including RSS feeds</li>   <li>Hints on <a href="https://java-net.dev.java.net/pagedesign.html">project      page HTML</a></li>   <li>Setting up project <a href="https://java-net.dev.java.net/ProjectPages.html#wiki">wiki      pages</a></li>   <li>And places to go if <a href="https://java-net.dev.java.net/ProjectPages.html#feedback">you      have questions</a>.</li>   <li><a style="text-decoration: none" href="http://www.markmail.org"><img height="16" border="0" align="bottom" width="16" src="http://markmail.org/favicon.ico" /></a> <a href="http://www.markmail.org">Markmail</a> is a free service for searching and analyzing email archives.</li> </ul> <p><a href="http://www.markmail.org">Markmail</a> offers several advantages:</p> <ol>    <li>It makes finding messages easier and faster.</li>    <li>It exposes analytics that make it possible to learn about each project and its contributors.</li>    <li>It helps reduce the amount of repeat questions on the lists.</li>    <li>It helps users be more successful with the project by giving them the 'background' of previous discussions.</li> </ol> <p>Remember that you will attract more new members and your project team will    work more effectively if you, as the project owner, supply sufficient information    about your project for visitors to your project space. Good luck with your new    project! </p> <br />                                 